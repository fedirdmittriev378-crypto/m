# Инструкция по обновлению

## Важно! Обновление базы данных

После обновления кода необходимо обновить базу данных, так как были добавлены новые таблицы и поля.

### Вариант 1: Удалить старую базу данных (если не жалко потерять данные)

1. Удалите файл `personal_budget.db`
2. Запустите приложение: `python run.py`
3. База данных создастся автоматически с новой структурой

### Вариант 2: Миграция данных (сохранить существующие данные)

Если у вас есть важные данные, можно вручную обновить базу:

1. Сделайте резервную копию `personal_budget.db`
2. Запустите Python и выполните:

```python
from app import create_app, db
from app.models import *

app = create_app()
with app.app_context():
    # Создаём новые таблицы
    db.create_all()
    print("База данных обновлена!")
```

## Новые функции

### ✅ Реализовано:

1. **Множественные счета** - управление несколькими кошельками/счетами
2. **Бюджеты по категориям** - установка лимитов расходов с визуализацией
3. **Долги** - отслеживание долгов (кому должны / кто должен)
4. **Улучшенные цели** - добавлено поле "имеющиеся средства", целевые даты, графики прогресса
5. **Поиск и фильтрация** - расширенный поиск по операциям
6. **Редактирование/удаление** - возможность редактировать и удалять операции
7. **Интерактивные графики** - Chart.js вместо статических изображений
8. **Темная тема** - современный дизайн с темной темой
9. **Анимации** - плавные переходы и анимации
10. **Расширенная аналитика** - тренды за 6 месяцев, сравнения
11. **Дашборд** - главная страница с виджетами и статистикой
12. **Цвета категорий** - возможность задавать цвета для категорий

## Использование

1. Запустите приложение: `python run.py`
2. Откройте браузер: `http://127.0.0.1:5000`
3. Начните с создания счетов (если нужно)
4. Создайте категории с цветами
5. Добавляйте операции
6. Создавайте бюджеты и цели
7. Просматривайте отчёты с интерактивными графиками

## Структура базы данных

Новые таблицы:
- `accounts` - счета
- `budgets` - бюджеты по категориям
- `debts` - долги
- `tags` - теги (подготовлено, но не полностью реализовано в UI)

Обновлённые таблицы:
- `categories` - добавлены поля `color` и `icon`
- `transactions` - добавлено поле `account_id`
- `goals` - добавлены поля `current_amount` и `target_date`
- `recurrings` - добавлено поле `account_id`

